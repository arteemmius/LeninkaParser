<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/labview-v-golografii-ot-eksperimenta-do-rezultata]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Гусев М.Е.]]></item>
    <item type="str"><![CDATA[Гуревич В.С.]]></item>
    <item type="str"><![CDATA[Кузьмина Е.В.]]></item>
    <item type="str"><![CDATA[Бессонов В.А.]]></item>
    <item type="str"><![CDATA[Молчанов С.В.]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Labview в голографии: от эксперимента до результата]]></title>
  <keywords auto="true" type="list" verify="true"/>
  <annotation auto="true" type="str" verify="true"><![CDATA[Описывается процесс создания автоматизированной системы управления голографическим комплексом на базе компьютерных модулей компании National Instruments и программно-аппаратного комплекса Labview. Приведены примеры технических решений по управлению различными системами голографического измерительного комплекса, а также использования вычислительных возможностей программы Labview для цифровой обработки информации и ее отображения в удобном пользователю виде.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[Описывается процесс создания автоматизированной системы управления голографическим комплексом на базе компьютерных модулей компании National Instruments и программно-аппаратного 153 Вестник КГУ. 2005. Вып. 1—2. Сер. Информатика и телекоммуникации. С. 152 — 162. 154 комплекса Labview. Приведены примеры технических решений по управлению различными системами голографического измерительного комплекса, а также использования вычислительных возможностей программы Labview для цифровой обработки информации и ее отображения в удобном пользователю виде. The process of creation the computer control system for a holographic complex on the basis of computer modules the National Instruments company and Labview hardware and software is described. Examples of technical decisions on management of various systems of a holographic measuring complex has presemted and, also using of computer opportunities of Labview program for digital processing the information and to its{her} displaying in a kind convenient to the user are resulted. Введение Автоматизация физического эксперимента всегда являлась важной частью физических исследований. Большое количество используемых в эксперименте приборов, обладающих различными характеристиками и относящихся к различным классам, требует от экспериментаторов не только осмысления влияния каждого прибора на конечный результат, но и принятия мер к синхронизации работы всех приборов во время эксперимента. Как правило, не существует каких-либо стандартных способов подобной синхронизации, и исследователь должен сам разработать и реализовать методы и устройства, позволяющие синхронизировать работу всех используемых в эксперименте приборов. Совершенно очевидно, что чем сложнее эксперимент, тем с большими трудностями столкнется экспериментатор в своих попытках заставить все приборы работать синхронно и выдавать нужные данные в нужное время. С подобными проблемами сталкиваются и специалисты по автоматизации производственных процессов. Следует отметить, что автоматизация эксперимента — это не дань моде, а реальная необходимость. Современные исследовательские приборы генерируют, передают и принимают огромные потоки информации за необычайно малое время, и у исследователя просто нет физических возможностей вручную управлять этими потоками или успеть в процессе эксперимента их осмыслить. В настоящей работе речь пойдет о проблемах оптико-физических измерений, базирующихся на методе голографической интерферометрии. Ввиду небольшого объема публикации не будем затрагивать базовые аспекты голографической методики, а лишь порекомендуем читателям ознакомиться с фундаментальными трудами по затронутой проблеме [1 — 3]. В КГУ работы в данном направлении ведутся с 1980 года, причем с самого начала и по сей день научная группа голографии в КГУ основное внимание уделяет именно проблемам синхронизации и управления параметрами лазерного излучения во время проведения оптико-физических измерений. Это позволило разработать и реализовать на практике ряд принципиально новых голографических методик, на которые были получены авторские свидетельства [4—5], произвести голографическую регистрацию вибрации во вращающихся объектах по новой методике синхронизации [6], разработать и проанализировать методы исследования многоком- понентных вибраций стробоскопическими методами [7—8]. С 1998 года голографическая лаборатория КГУ начала активно работать над рядом международных проектов с коллегами из Германии, Швеции и США. В результате впервые было реализовано динамическое управление спектральными параметрами импульсного голографического лазера [9], осуществлена цифровая регистрация голограмм на CCD-камере в ультрафиолетовом диапазоне на удвоенной частоте рубинового лазера [10], получены голографические интерферограммы с применением оптических эндоскопов [11]. Успешный опыт работы специалистов КГУ позволил принять участие в разработке двух мобильных лазерных голографических установок [12—13], которые послужили основой для получения в 1999 и 2002 гг. грантов Международного научно-технического центра (г. Москва), причем финансирующей стороной в этих грантах является госдепартамент США. В этих проектах, осуществляемых в научной кооперации с Лазерным центром АН Казахстана (г. Алматы) и Российским федеральным ядерным центром (г. Снежинск), калининградской группе поручена разработка компьютерной системы управления голографическим комплексом. Именно о проблемах компьютеризации голографических измерений пойдет речь в настоящей работе. Проблемы управления в голографических измерениях Современная голографическая интерферометрия мало похожа на ту, что разрабатывали основатели голографии. В 90-х годах исследователи отказались от регистрации голограмм на фоточувствительные материалы, такие как фотоэмульсии и фототермопласты. Основным регистрирующим элементом стал матричный видеосенсор на принципе зарядовой связи (CCD-сенсор), являющийся основой специализированной цифровой промышленной видеокамеры, положившей начало новому направлению в оптоэлектронике — машинному зрению. Применение CCD-камер коренным образом изменило голографический эксперимент и остро поставило вопросы его полной автоматизации. Можно выделить следующие причины, которые создают проблемы для исследователей, применяющих CCD-камеры не только в голографии, но и в других системах машинного зрения. Производители CCD-камер машинного зрения, такие как Бопу, JVC, Dalsa, Риіпіх и другие, применяют различные форматы передачи данных от камеры к компьютеру. Отметим, что камеры машинного зрения часто вообще не имеют стандартного видеовыхода, т. е. в принципе не могут использоваться без компьютера. Причина здесь кроется в различных параметрах используемых CCD-сенсоров. Эти сенсоры, или чипы, отличаются как по общему числу светочувствительных ячеек-пикселей, так и по геометрической конфигурации. Они могут быть квадратными или прямоугольными, причем с произвольным соотношением сторон. Монитор компьютера или телемонитор являются приборами со стандартным соотношением сторон, кроме того, компьютеры приспособлены оперировать только со своими, сторого определенными типами потоков данных. Таким образом, сигналы видеокамер должны быть преобразованы в сигналы (потоки данных) понятные компьютеру. 155 156 Для преобразования потока данных от CCD-камеры в данные, понятные компьютеру, который к тому же может работать в различных программно-операционных системах (Windows, MacOS, Linux и т. д.), применяются специальные компьютерные платы сбора видеоданных (ПСВД), называемые также Image Acquisition Board или Frame grabber. ПСВД выпускаются не производителями CCD-камер, а иными компаниями. Каждая ПСВД работает только с определенным набором камер из нескольких сот, а может, уже и тысяч типов, имеющихся на рынке. Таким образом, исследователь оказывается зажатым в плотные рамки при выборе камеры для своего эксперимента, особенно если ему требуется применить несколько камер с различными характеристиками. Даже если исследователь имеет CCD-камеру с подходящей ПСВД, он должен еще иметь специальную компьютерную программу (драйвер), позволяющую управлять потоком данных, поступающих от камеры, и преобразовывать этот поток в понятный компьютеру. Драйверы, как правило, создают разработчики ПСВД, и здесь опять перед исследователем встает проблема выбора, причем в области, где, как правило, он не специалист. Речь идет о ситуации, когда к его камере подходят различные ПСВД, и каждый со своим драйвером, или когда к одной ПСВД есть несколько драйверов для его камеры. Если наблюдаемый или регистрируемый камерой машинного зрения объект движется, то возникает еще одна проблема, связанная с неверной передачей движения. Все, видимо, помнят вращающиеся назад колеса в кинематографе. В голографических измерениях движущиеся объекты — явление обычное. В этом случае исследователю необходимо синхронизировать камеру с процессом, т. е. поменять встроенную развертку камеры (количество кадров в секунду) на необходимую пользователю. Не все типы камер позволяют это сделать легко, некоторые не позволяют вообще. Часто исследователю требуется не непрерывная регистрация события, а всего несколько кадров, но со строго определенными и неравными меж-дуимпульсными интервалами. Это еще более сложный режим работы камеры и ПСВД. На практике это приводит к тому, что исследователю приходится самому организовать нестандартную развертку камеры по нескольким каналам управления и при этом умудриться еще синхронизировать ПСВД, чтобы она правильно принимала данные. Изложенное выше позволяет сделать два важных заключения: во-первых, выбрав камеру, подходящую для требуемых измерений, исследователь должен очень точно выбрать к этой камере ПСВД и драйвер, во-вторых, если для экспериментов требуется несколько камер с различными параметрами, желательно, чтобы они работали с одной и той же ПСВД и однотипными, согласованными с ПСВД, драйверами. Базовый подход к компьютерной системе управления голографическим комплексом Проводимые в КГУ на протяжении более 20 лет работы по исследованию и применению новых систем управления и синхронизации в голографической интерферометрии позволили разработать новый базовый подход к созданию подобных систем. Это дает возможность определить принципы, по которым должна конструироваться компьютерная система управления голографическим комплексов, в которой полностью автоматизирован не только процесс голографических измерений, т. е. регистрация первичных голограмм и их компьютерная реконструкция в интерфе-рограмму, но и процесс обработки результатов измерений и представления измерительной информации в удобном для пользователя виде. Структура базового подхода для наиболее сложного голографического эксперимента — стробоскопической голографии — показана на рис. 1. Исследуемая часть Исследовательская часть 157 Рис. 1. Компьютерная система управления стробоголографическим комплексом 158 Основа базового подхода — это четкое разделение исследуемой и исследовательской части. Иначе говоря, исследователь должен четко понимать, что он будет измерять и какими средствами он будет это делать. Только после этого он сможет определить, какие ресурсы системы управления он должен направить на измерительные модули, чтобы обеспечить режим измерения. В исследовательской части базового подхода определяется, какие именно параметры необходимо контролировать в процессе измерения и какими средствами это можно сделать, а также как получить и довести до компьютера измеряемую информацию. Также необходимо определить, какое именно программное обеспечение будет использоваться для обработки результатов и их представления. Результатом такого подхода станет правильный выбор устройств и методов измерений и объединение их в единый автоматизированный комплекс. В настоящей работе в качестве базы для построения автоматизированного голографического комплекса выбрано оборудование компании «National Instruments» (США), и программа «Labview» этой же компании, позволяющая управлять не только любым оборудованием, производимым National Instruments, но и оборудованием многих других компаний. Данный выбор был не случаен и обусловлен двумя факторами: во-первых, проект по созданию автоматизированного комплекса финансируется американской стороной и контролируется американскими экспертами, во-вторых, опыт участия в международных выставках лазерной техники в период 1999 — 2003 года показал, что очень многие производители используют именно оборудование National Instruments в системах управления лазерными установками. Labview и эксперимент Опыт работы с различным оборудованием и программным обеспечением, позволяющим в той или иной мере автоматизировать процесс голографических измерений, показал, что пока не существует универсального способа полностью автоматизировать голографический эксперимент. Одной из причин является то, что разработчики голографических измерительных комплексов даже не пытаются создавать такие комплексы в едином конструктивном базисе, а просто используют готовое оборудование различных компаний. Из этого оборудования конструируются потом базовые элементы голографического комплекса — лазерный интерферометр, цифровая система регистрации и система цифрового синтеза интерферограмм и обработки результатов. Такой подход имеет следующие недостатки. Оборудование, выпускаемое различными компаниями, имеет свои собственные, не стыкующиеся с другими модули управления и программное обеспечение. Компьютерное управление различными устройствами комплекса не может быть осуществлено с одного компьютерного терминала, так как параллельная работа не предусмотрена, более того, ни одна опера- ционная система напрямую такую работу с одного терминала обеспечить не может. Даже при управлении с нескольких терминалов, что явно не оптимально, исследователю приходится разрабатывать и устанавливать дополнительно различные модули, которые бы обеспечили синхронную работу всех устройств. В рамках данного проекта разработчикам впервые предоставилась возможность самим создать всю систему управления комплексом от начала до конца. Для ее создания были осуществлены следующие шаги. На основании базового подхода были определены виды сигналов, используемых в управлении элементами комплекса. Эти сигналы затем были четко разделены на управляющие (исследовательская часть) и контролируемые (исследуемая часть). Определены все параметры всех сигналов (напряжения, токи, частоты, длительности и т. д.) и составлены «Таблицы сигналов». По каталогу компании National Instruments и в контакте с ней определены необходимые устройства (компьютерные платы цифровой электроники), необходимые для вывода и приема всех сигналов со всеми необходимыми параметрами. Ввиду того, что некоторые используемые устройства не имели специальных выходов для подключения к компьютеру, произведена доработка этих устройств, т. е. осуществлено подключение элементов контрольной панели к компьютеру через дополнительные разъемы и согласующие электронные схемы. Даже краткое описание разработанной системы в данной работе невозможно, достаточно сказать, что система контролирует, управляет и отображает информацию по более чем тридцати каналам. Поэтому мы просто резюмируем, какие преимущества дало применение Lab-veiw в данной системе. Примененный на стадии проектирования системы базовый подход, описанный выше, оказался идентичен подходу разработчиков Labveiw. Каналы в Labveiw также разделяются на управляющие и управляемые, что максимально упростило процесс программирования. Это было удивительно и приятно, ибо базовый подход был нами разработан задолго до знакомства с Labveiw. Программный код можно создавать по частям, например, отдельно для каждого устройства, а затем объединить все в единую программу. При этом в большинстве случаев Labveiw сама синхронизирует работу устройств. Если же нужна нестандартная синхронизация (т. е. строго определенная последовательность работы устройств с задержками друг относительно друга), то Labveiw также достаточно легко позволяет передавать управление с одного программного модуля на другой. Это дает уникальную возможность осуществлять различные последовательнопараллельные режимы управления большим количеством устройств с одного терминала. Важно, что при этом программы не конфликтуют между собой. 159 160 Ьа^еіш позволяет сначала создать интерфейс, т. е. расположить на экране монитора в окне Панель управления все необходимые элементы — кнопки, индикаторы, контрольные приборы и т. д. Выбор типов таких элементов огромен, размеры, шкалы приборов, точность отображения информации легко устанавливаются. И лишь после этого можно перейти к программированию, т. е. определить направления потоков информации и последовательности их передачи от одного элемента к другому. Примеры панели управления лазерной системой и фрагмент программного кода на языке Ьа^еіш показаны на рис. 2. Более подробно об особенностях программирования в Ьа^еіш см. в работе [14]. LASER 1 АММЮЦК | iW4»ll | Рис. 2. Компьютерный интерфейс передней панели и фрагмент командного кода Labveiw обладает мощными средствами отладки программ. Это и пошаговое исполнение с информированием об ошибках, возможность входа в стандартные модули, создание журналов ошибок, в которых отражаются как элементы, где обнаружена ошибка, так и вид ошибки. Несмотря на то что работа по созданию системы управления продолжается, т. к. продолжаются и работы по созданию отдельных блоков голографического комплекса, а, значит, и система управления должна постоянно совершенствоваться и подстраиваться под эти новые блоки, можно с уверенностью сказать, что оборудование компании National Instruments и программа Labview позволяют разработать такую систему управления, которая бы полностью автоматизировала процесс голографических измерений. Labview и обработка результатов Программа Labview имеет в составе широкий набор вычислительных средств, а также предоставляет возможность встраивать вычислительные модули, написанные на языках Matlab и C++. Поэтому впервые появилась возможность реализовать в одной программе как систему управления, так и систему обработки результатов измерений. Модуль IMAQ Vision позволяет через плату ПСВД принять и запомнить необходимые гологафические изображения с модуля цифровой регистрации голограмм (CCD-камеры). Далее необходимо осуществить цифровую реконструкцию голограмм и построить интерферограмму. Обычно для этих целей использовались специализированные программы, разработанные компаниями, производящими голографическое оборудование, так как обычные редакторы изображений не приспособлены для работы со спекл-структурами и не имеют необходимого математического аппарата для работы с комплексными массивами данных. В последнее время успех разработчиков программы Matlab позволил реализовать обработку спекл-изображений, что позволило отказаться от услуг узкоспециализированных и малоинвариативных программ голографических компаний. Однако проблему единого измерительно-обрабатывающего комплекса это не решает, т. к. Matlab не работает параллельно с программами управления. Построение вычислительного модуля в программе Labview позволяет такую задачу решить. Модуль реконструкции голограмм и вычисления результатов был разработан в программном коде Labview с использованием компонентов IMAQ Vision, которые предоставляют широкие вычислительные возможности при работе с изображениями, включая комплексные массивы. В результате было реализовано: — двойное комплексное фурье-преобразование первичных голограмм с целью фильтрации несущей пространственной частоты; — восстановление распределения фазы в плоскости голограмм из комплекного массива, полученного после двойного фурье-преобразо-вания; — вычисление распределения разности фаз между двумя голографическими изображениями в плоскости голограммы; 161 162 — фильтрация изображения распределения разности фаз с целью снижения спекл-шума. Последним этапом в таких системах обработки является ликвидация разрывов (скачков фазы) и построение трехмерой картины распределения фаз или перемещений по поверхности объекта (эта программа называется Unwrap). Совершенных программ Unwrap нет, каждая компания, предлагающая голографическое оборудование, имеет свою собственную разработку данной программы. Чтобы пользоваться этими программами, исследователь не только должен иметь большой опыт работ в области голографии, но и приобрести определенный навык в работе именно с данной программой. В настоящей работе также предлагается программа Unwrap, созданная в среде Matlab. Учитывая возможность интеграции Matlab и Labview, можно считать, что задача обработки результатов голографического эксперимента средствами Labview полностью решена. На рис. 3 показаны результаты пошагового вычисления и построения голограмм, сделанные с помощью вычислительных модулей Labview и IMAQ. Рис. 3. Последовательность обработки голограмм и фильтрации Заключение Разработанная автоматизированная компьютерная система управления голографическим измерительным комплексом позволяет в единой программной среде осуществлять как управление всеми устройствами комплекса на стадии измерений, так и обработку результатов измерений и их представление в удобном пользователю виде. Работа выполнена по проекту МНТЦ №К-127—2 «Мобильный голографический комплекс». ]]></text>
</doc>
