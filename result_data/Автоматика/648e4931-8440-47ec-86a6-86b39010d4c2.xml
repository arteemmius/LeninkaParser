<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/sistema-upravleniya-avtonomnym-kolesnym-robotom-skif-3-dlya-apriori-neformalizovannyh-sred]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Ахмед Саад Али]]></item>
    <item type="str"><![CDATA[Федоренко Роман Викторович]]></item>
    <item type="str"><![CDATA[Крухмалев Виктор Александрович]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Система управления автономным колесным роботом Скиф-3 для априори неформализованных сред]]></title>
  <keywords auto="true" type="list" verify="true">
    <item type="str"><![CDATA[РОБОТОТЕХНИКА]]></item>
    <item type="str"><![CDATA[СИСТЕМА УПРАВЛЕНИЯ]]></item>
    <item type="str"><![CDATA[СИСТЕМА ТЕХНИЧЕСКОГО ЗРЕНИЯ]]></item>
    <item type="str"><![CDATA[ПРЕСЛЕДОВАНИЕ]]></item>
    <item type="str"><![CDATA[ОБХОД ПРЕПЯТСТВИЯ]]></item>
  </keywords>
  <annotation auto="true" type="str" verify="true"><![CDATA[В данной работе были практически реализованы алгоритмы управления движением мобильного робота для следования к нестационарной цели с обходом стационарных и нестационарных препятствий. Координаты цели и расстояние до препятствия определяются стереоскопической системой технического зрения. Рассмотрены аспекты аппаратной и программной реализации системы управления. Проведенные эксперименты показали перспективность данных алгоритмов при конструировании систем управления для мобильных роботов.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[В данной работе были практически реализованы алгоритмы управления движением мобильного робота для следования к нестационарной цели с обходом стационарных и не. -ся стереоскопической системой технического зрения. Рассмотрены аспекты аппаратной и программной реализации системы управления. Проведенные эксперименты показали перспективность данных алгоритмов при конструировании систем управления для мобильных . Робототехника; система управления; система технического зрения; преследование; . A.S. Ali, R.V. Fedorenko, V.A. Krukhmalev AUTONOMOUS MOBILE ROBOT SKIF-3 CONTROL SYSTEM FOR NONFORMALIZED ENVIRONMENT This paper presents practical implementation of control algorithms for dynamic target following with stationary and dynamic obstacle avoidance on basis of wheeled mobile robot. Stereo omputer vision system is used to determining the position of the target and the distance to the obstacle. Hardware and software implementation issues are considered. The presented experiments show advantages of the approach for control system implementation. Robotics; control system; computer vision system; target following; obstacle avoidance. Введение. В настоящее время активно расш иряются области применения мобильной робототехники, в частности в таких областях как транспортировка грузов в условиях автоматизированного складского хозяйства, обслуживание опасных для жизни и труднодоступных зон атомной, химической и газовой промышленности, сервисное обслуживания пассажирских терминалов, домашнее хозяйство. Вместе с тем растут предъявляемые к роботам функциональные требования, для успешного выполнения которых системы управления роботами должны обеспечивать решение задач планирования в условиях неопределенности и нестационарное™ среды их функционирования и отработки требуемых траекторий движе-. среде, с избеганием столкновений со стационарными препятствиями и подвиж-. Некоторые современные подходы к конструированию систем управления ав, , -ны в [1-5]. В [2] применены методы теории нейронных сетей, нечеткой логики и генетических алгоритмов для стратегического планирования движений робота. Благодаря такому подходу возможно автоматическое создание нечетких правил и функций принадлежности для организации движений, но эффективность данного подхода сильно зависит от формы препятствий. В работе [5] представлен алгоритм обнаружения и обхода препятствий для автономного мобильного робота, основанный на работе системы технического зрения и лазерного сканера. Телекамеры расположены на поворотном устройстве. Недостатком этого метода являются повышенные требования к сенсорной системе робота. . -женных в [6] законов управления и алгоритмов локальной навигации, основанных на неустойчивых режимах движения при перемещении колесного мобильного робота «Скиф-3» из произвольной точки А0(х0,уо) в заданную целевую точку ^г{хГ>У[) в неформализованной среде с препятствиями. Особенностью данной работы является тот факт, что координаты целевой точки А^Хру^, а также координаты препятствия определяются системой техни-. Структура системы управления. В структуре системы управления, представленной на рис. 1, выделен стратегический уровень - планировщик, который строит желаемые траектории на основе сенсорной информации и типа задания, и тактический уровень - регулятор, который на основе заданной желаемой траектории рассчитывает необходимые управления двигателями. Рис. 1. Структура системы управления робота С учетом систем управления сервоприводов, математическая модель робота «Скиф-3» имеет вид *1 "соя (а) -яіпСаУ У 2. ^іп(а) сої(а) . 0,5 г 0,5 г аг аг 2 Ъ 2 Ь . и>1 0)й (1) (2) где х, у — координаты робота, а - угол ориентации робота, о>£, шк - угловые скорости вращения колес робота, г - радиус колес, а и Ь - кинематические параметры шасси, Тк, Кк - диагональные (2*2)-матрицы соответственно постоянных времени и коэффициентов передачи инерционных звеньев; и - вектор управлений, . Алгоритм управления. Как показано в работе [7], все множество требований к установившемуся режиму движения мобильного робота в пространстве Дпхп базовых координат У и скоростей У, в общем случае может быть представлено в виде вектор-функции / базовых координат и углов ориентации, а также их производных вида: ^ + А^с/с = 0, (3) 4V, Р^иСОР + АиСОР + А^СО О ск , , , -k(t) 1 О О О о Jt k(t)x + у — b(t) О где А - блочная диагональная матрица коэффициентов, сНтА = (тхт); Ац - матрицы коэффициентов соответствующей размерности, формируемые планировщиком перемещений на основе данных сенсорных систем и определяющие вид нестационарной траектории; V, V* - скорость ПО и ее желаемое значение. При управлении подвижным объектом на плоскости: , , . В зависимости от конкретной задачи, многообразия (3) задаются в одном из : , , через две ТОЧКИ (х0,у0) И (хр-уР), с постоянной скоростью V*: ,, , (4) , скоростью V*: О О Фі Фі (5) В работах [8-10] были синтезированы законы формирования управляющих воздействий, стабилизирующие многообразия (1), вида: U = —(fAKoy1(fAK1Y + ff2(t) + А9 + Wtr) + WKa , К0 = JJzpx, Кг = ТАКгг + К12, Кгг = (02х2; //ЕРе), (6) , , . Алгоритм (6) обеспечивает стабилизацию многообразий (4-5) при следующих значениях функциональных коэффициентов: ^ Л-G а А-Й-Л-G ІР —k(t) 1 о о , г. -k(t) 0 0 0 0 0 It — и k{t)x — k(t)x + у — b{t) 0 (7) (8) Матрицы /И1 и /у определяются по уравнениям динамики робота [6]. . -но-адгоритмической реализации системы управления ПО заключается в использовании управляющих воздействий (6), стабилизирующих траектории (3) в зонах свободных от препятствий и в применении третьей теоремы Ляпунова (теорема о неустойчивости) при нахождении ПО в зоне стационарных или нестационарных препятствий на расстояния меньше допустимого. В соответствии с [6, 9], элементы матриц Т и А в (6) зададим в виде следующей функции: 50 = con.sC > 0, п р и (і = О, — п р и /? =£ 0 . (9) Здесь 50 задает характер движения в свободной от препятствий зоне. Выбор типа регулятора и управление параметрами его настройки в соответствии с целью движения и сенсорной информацией осуществляется планировщиком, алгоритм работы которого представлен на рис. 2. / Инициализация Л ^истемы управления/ Получение координат цели и препятствия Движение вдоль Область препятствия. Траекторный регулятор 1 і Передача управляющего воздействия Передача управляющего воздействия Движение по ограниченному углу Передача управляющего воздействия Рис. 2. Алгоритм работы планировщика Алгоритмы работы системы технического зрения. Система технического зрения (СТЗ) используется для определения координат целевой точки движения ( , ). Для этих целей СТЗ должна реализовать функции поиска объекта и расчета . -тиры - инфракрасные маяки. Система технического зрения включает две видеокамеры с инфракрасными фильтрами и бортовой компьютер, объединенные в бортовую сеть ЕШетеї по. После установки видеокамер была проведена их калибровка. Процесс калибровки описан в [10]. В результате были рассчитаны следующие параметры для каждой из камер: 1. Фокусное расстояние линзы объектива: = (10) ■Л где Рх - фокусное расстояние для оси абсцисс, пиксели; Ру - фокусное расстояние для оси ординат, пиксели. 2. Координатный вектор реального центра матрицы: Сх (11) - , ; - , . 3. Коэффициент перекоса светочувствительной матрицы а. 4. Коэффициент подушкообразной дисторсии, 5-мерный вектор к. Далее эти калибровочные параметры применяются для ректификации изображения методом Оулу [11]. Недостаточное качество калибровки каждой из видеокамер, а также отсутствие параллельности между их главными оптическими осями вносят искажения в измерения координат объектов. Для компенсации этих погрешностей была дополнительно применена калибровка методом полиноминальной аппроксимации, который позволяет рассчитать предполагаемую величину ошибки определения координат маяка [12]. При реализации расчета этой ошибки методом полиноминальной аппроксимации робот инициализируется так, чтобы его центр находился в точке под калибровочным маяком. Тогда отклонение маяка от начала координат при движении робота по полигону является погрешностью расчета. Таким образом, были собраны значения положения объекта на оси У изображения и соответствующие погрешности расчета координаты маяка. Далее осуществляется аппроксимация этой табличной зависимости полиноминальной функцией в программном пакете МЛТЬЛБ. В результате получен по-4- : Лх5р = кг • у?тд + к2 ■ Ушд + к3 ■ У1тд + к4 ■ у1тд + ^ где йх5р - погрешность определения пространственной абсциссы маяка, у1тд -ордината маяка на изображении, к1---к5 - коэффициенты полинома. График полученной аппроксимиру ющей функции изображен на рис. 3, круговыми маркерами обозначены исходные аппроксимируемые значения. Выражения для расчета трехмерных координат объекта в системе координат стереопары имеют вид [14]: х (Сх-х) Тх у (Су-у) тх ^ -Рх Тх где Тх - расстояние от фокуса левой камеры до центра системы координат, для левой камеры оно равно нулю, й - величина диспаратности. Далее полученные координаты приводится к глобальной системе координат и передаются планировщику. . З. Аппаратная реализация мобильного робота «Скиф». Робот им еет так называемую рояльную кинематическую схему, т.е. два независимо управляемых задних колеса и свободное поворотное переднее колесо. Низкоуровневый кон-Atmel , получение данных от фотоимпульсных датчиков оборотов колес, управление элек-. одноплатном промышленном компьютере на базе процессора Celeron i,6 GHz. Сенсорная подсистема включает систему технического зрения (две сетевые видео-ACTI, ). . 4. <— кБК Рис. 4. Структура аппаратной части и внешний вид мобильного робота «Скиф-3» Программная реализация системы автоматического управления. В к аче- стве платформы для реализации программного обеспечения бортового компьютера выбрана специализированная операционная система реального времени ОМХ №и- trino 6.3, предоставленная по образовательному проекту компании QSSL «QNX для ВУЗов» [15]. Эта ОС реализует микроядерную архитектуру, обладает хорошими временными характеристиками, развитыми средствами разработки и отладки, , , исходный код и развитое сообщество разработчиков. Высокоуровневое программное обеспечение робота представляет собой совокупность взаимодействующих программных модулей. Структура программного обеспечения бортового компьютера представлена на рис. 5. Аппаратная часть Программная часть Интерфейс сетевых видеокамер координаты маяков _ (цель и препятствие) . З. Основная программа управления реализована как многопоточное консольное приложение. В программе работают потоки-поставщики данных, такие как потоки контроллера, СТЗ и потоки-пользователи данных (ре^лятор, планировщик). Также есть потоки, совмещающие в себе эти поведения (например, поток сетевого взаимодействия - передает данные о работе системы и может управлять ими). В связи с этим, данные, описывающие робота, были выделены в единую структуру с функциями доступа и блокировками чтения-записи. Таким образом, потоки различных модулей читают и изменяют эти данные единым образом, что обеспечивает их целостность. Модули планировщика и регулятора реализуют концепцию уровневой системы управления, в которой планировщик реализует стратегический уровень, задавая цель движения в виде квадратичной формы, типа и настроек регулятора, а ре- - , -низмов для реализации заданной цели. С точки зрения программной реализации в модуль входят: библиотека векторной алгебры, класс квадратичных форм, класс . Сетевой сервер реализует интерфейс для удаленного управления роботом и наблюдения за состоянием системы управления использованием ТСР-сокетов. Клиентская программа, представленная на рис. 6, реализована с использованием библиотеки 01. 1 «и** «а* «и» Рис. 6. Клиентская программа управления роботом В виде отдельного процесса по технологии менеджера ресурсов 0МХ реализована сервисная программа получения кадров от видеокамер системы техниче-. дереве файловой системы. После этого любой поток системы технического зрения, получает соответствующие файловые дескрипторы и может считывать видеокадры стандартным образом с помощью библиотечных функций С/С++. Это также позволяет открывать эти «файлы» стандартным просмотрщиком что облегчает от. ЯТ8Р использована библиотека Нуе555 [16]. Модуль системы технического зрения выполняет следующие функции: чтение кадров с левой и правой камер, их декомпрессия (с использованием библиотеки libjpeg), бинаризация, кластеризация (т.е. поиск маяка на изображениях), сопоставление данных левой и правой камер, определение координат маяков в локальной СК камер, преобразование из локальной в базовую систему координат, добавление маяков в список (также выполняется фильтрацию по высотам и координатам и статистическая обработка). Для исключения из обработки сильно сдвинутых по времени кадров с левой и правой камер сравнивается время их получения (содержится в пакете ЯТ8Р). Синхронизация часов камер и бортового компьютера выполняется по протоколу ЭТР. В функции модуля контроллера входит получение по последовательному порту от низкоуровневого микроконтроллера пакетов с данными о скоростях колес, интегрирование кинематической модели робота (т.е. организация определения координат в глобальной системе отсчета), формирование и отправка на микроконтроллер пакета управлений (желаемых скоростей вращения колес). Результаты экспериментов. На рис. 7-9 представлены результаты экспериментов по управлению движением робота в среде с препятствиями. На рис. 7,а,б представлены траектория и график скорости робота в эксперименте с подвижной целью. Траектория движения цели от точки А0 к Ау показана . Рис. 7. Результаты эксперимента для случая с нестационарной целью: а - траектория движения; б - график изменения скорости На рис. 8 представлены результаты эксперимента с нестационарным препятствием и стационарной целью. На рис. 8,а показаны положения робота и препятствия и траектория робота в разные моменты времени в течение эксперимента. . 8, 8, . - , , -пятствия обозначается окружностью, нарисованной пунктирной линией. I 1 1 и" $ 1 1 1 1 1 1 1 / 1 1 1 2 3 ж(1) Х(Ч х(Ч У1(Ч 5 4 3 2 0 0 4 5 а б Рис. 8. Результаты эксперимента с нестационарным препятствием и стационарной целью: а — траектория робота и положения препятствия во время эксперимента; б - график изменения скорости; в - график изменения бифуркационного параметра при б = —0,25//? На рис. 9 представлены результаты эксперимента с нестационарным препятствием и нестационарной целью. Оч— « . 1 1 1 1 1 1 1 1 о <9 х,м а х,м в х,м 4 В 5 4 3 2 0 0 2 3 4 5 х.м б X,M X,M д е Рис. 9. Результаты эксперимента с нестационарным препятствием и нестационарной целью s = —0,3//? Заключение. Данная работа демонстрирует пример практической реализации алгоритмов следования к стационарной и нестационарной цели с обходом стационарных и нестационарных препятствий в априори неформализованной среде, предложенных в [6], с применением системы технического зрения для определения координат цели и обнаружения препятствий. Были практически подтверждены преимущества этого подхода. Так, гибкость требований, предъявляемых к сенсорной , -бота видеокамеры для обнаружения препятствий. Для успешного выполнения экспериментов не требовались априорные знаний о среде функционирования робота. Проведенные исследования позволяют сделать заключение о перспективности использования предложенных алгоритмов при конструировании систем управления роботов для транспортировки грузов в условиях автоматизированного , атомной, химической и газовой промышленности, сервисного обслуживания пассажирских терминалов, домашнего применения и т.д. ]]></text>
</doc>
