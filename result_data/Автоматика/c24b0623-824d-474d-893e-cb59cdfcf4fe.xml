<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/ispolzovanie-sapr-diptrace-dlya-avtomatizatsii-proektirovaniya-pechatnyh-plat]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Вичугова А.А.]]></item>
    <item type="str"><![CDATA[Яковлева Е.М.]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Использование сапр DipTrace для автоматизации проектирования печатных плат]]></title>
  <keywords auto="true" type="list" verify="true"/>
  <annotation auto="true" type="str" verify="true"><![CDATA[САПР DipTrace, предоставляемая производителем для учебного процесса бесплатно, является полнофункциональной системой для разработки принципиальных схем и печатных плат. Программа - продукт отечественной разработки, она обладает русскоязычным удобным пользовательским интерфейсом, а также подробной справочной системой. В статье рассмотрены некоторые функциональные возможности DipTrace на примере проектирования печатной платы на основе отечественной элементной базы.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[САПР DipTrace, предоставляемая производителем для учебного процесса бесплатно, является полнофункциональной системой для разработки принципиальных схем и печатных плат. Программа — продукт отечественной разработки, она обладает русскоязычным удобным пользовательским интерфейсом, а также подробной справочной системой. В статье рассмотрены некоторые функциональные возможности DipTrace на примере проектирования печатной платы на основе отечественной элементной базы. На сегодняшний день наиболее популярной среди систем автоматизированного проектирования (САПР) печатных плат является зарубежная система P-CAD фирмы ACCEL Technologies. Однако из-за высокой стоимости даже ученической лицензии (от 1000 у.е. и выше за 1 рабочее место) на использование этого программного продукта применение его в учебном процессе проблематично. В связи с этим авторами были осуществлены поиск и анализ аналогичных систем, не уступающих P-CAD по качеству, использование которых не требует взлома и ни в коей мере не нарушает чьи-либо авторские права, а является абсолютно лицензионным и правомочным. К сожалению, ввиду специфической промышленной направленности подобных программ выявить «абсолютно бесплатные» САПР не удалось, но была найдена система, предоставляемая производителем для учебного процесса бесплатно. Такая практика является широко распространенной — некоторые производители ПО предоставляют бесплатные версии своих программ для использования в некоммерческих целях. Подобные версии могут иметь некоторые функциональные ог-раниченния, но, как правило, отсутствие каких-либо специальных опций в программе не влияет на возможность ее примене- ния на домашнем компьютере или в учебном процессе для решения академических задач. САПР DipTrace представляет собой полнофункциональную систему для разработки принципиальных схем и печатных плат. Заметим, что программа является продуктом отечественной разработки, который сейчас развивается и иностранной фирмой Novarm, она обладает удобным русскоязычным пользовательским интерфейсом, а также оснащена подробной справочной системой. Стоимость коммерческой лицензии DipTrace вполне приемлема. Например: • DipTrace Full (версия без ограничений) — 10 500 руб. • DipTrace Extended (2000 выводов, 6 слоев) — 7500 руб. • DipTrace Standard (1000 выводов, 4 слоя) — 5200 руб. • DipTrace Lite (500 выводов, 2 слоя) — 1200 руб. • DipTrace Home (250 выводов, 2 слоя) — 600 руб. Для использования в некоммерческих целях — например, для студентов или радиолюбителей — DipTrace вообще предоставляется бесплатно. 44 Как и большинство систем данного класса, DipTrace состоит из нескольких редакторов, т. е. включает 4 программы: • Schematic (Схемотехника) — создание принципиальных схем с последующей возможностью перевода их в платы; • PCB (англ. — printed circuit board) Layout (Редактор разметки печатных плат) — проектирование плат с удобной интерактивной автоматической и ручной трассировкой; • ComEdit (Редактор корпусов) — создание и редактирование корпусов для печатных плат; • SchemEdit (Редактор компонентов) — создание символов схемотехники и их связка с корпусами. Через меню Программы любого из перечисленных редакторов можно перейти в другой, выбрав его из предложенного списка. Программа использует файлы 4 собственных форматов: • принципиальная схема *.dch — создается с помощью программы Schematic, также поддерживается PCB Layout. Содержит информацию о компонентах и привязанных к ним корпусах, о связях, графических объектах и страницах для схемотехники. При открытии в PCB Layout автоматически преобразуется в печатную плату с неразведен-ными сетями (связями); • печатная плата *.dip — создается и открывается с помощью программы PCB Layout. Содержит информацию о корпусах, сетях, трассированных дорожках, границах платы, графических объектах; • библиотеки корпусов *.lib — создаются в редакторе корпусов ComEdit. Для размещения корпусов на печатной плате открываются непосредственно в редакторе корпусов ComEdit, для соединения компонентов схемотехники с корпусами — импортируются в редактор SchemEdit; • библиотеки компонентов *.eli — создаются в редакторе компонентов SchemEdit. №>6(18)2008 Поддерживаются редактором Schematic § для размещения компонентов на принципи- § альной схеме. Ц Поддерживаются также следующие про- Ч мышленные форматы: § • DipTpace ASCII — данные в текстовом формате ASCII; < • Netlist — импорт/экспорт нетлистов различных форматов (например, для обмена данными с другими САПР); • DXF; • NC/Drill; • Gerber. Кроме того, что немаловажно для профессионалов, трассировщик DipTpace совместим со Specctra. Также библиотека компонентов DipTpace содержит множество элементов от более 50 популярных мировых производителей электроники и отечественную «классику» —транзисторы, диоды, серии К1..., КР1... и т.д. Рассмотрим некоторые возможности пакета DipTpace на примере создания несложной платы. При этом не будем создавать новые компоненты и их корпуса, а воспользуемся теми, которые предлагаются библиотекой. Нам понадобятся только 2 программы комплекса DipTrace: Schematic (Схемотехника) для создания принципиальных схем и PCB Layout для последующей их трассировки и разводки проводников на печатной плате. 1. Создание принципиальной схемы Компоненты Принципиальная схема будущей печатной платы создается в редакторе Schematic (Схемотехника). Как правило, библиотеки компонентов уже загружены в данную программу, также при необходимости возможен импорт новых, который выполняется через меню Библиотека->Подключение библиотек. Импортированные библиотеки размещены в строке под пиктограммами команд. X 45 N96(18)2008 Пш^тли (.Ц,».ъ п .ж а а ь Я 1 +1 С, » Ц ■си. п, ¡,4 ^ ь Ь ^ Ц|| ■ Ч^ЕРОО-О+б Лшн 1-' - л кьигпг<н над¿ВЬОГтД ш г. Кь'-гч-"^ ¿НИ «Г1ЛН1 * ^ * -! Гг (И<1 Рис. 1. Выбор библиотеки ё I со 0 1Г <и ! 1 ¡8 В § ¡5 со <0 I £ еа £ 5 I со о ч § л Поиск и выбор конкретного набора типовых элементов (транзисторов, логических элементов определенной серии и т.д.), которые в терминологии программы DipTrace называются компонентами, осуществляются передвижением бегунка и нажатием на элемент строки с названием соответствующей библиотеки (рис. 1). Для данной схемы необходимые логические элементы находятся в библиотеке «КР1533», «КР1534» или «ТТЛ м-мы (серия К155)». После определения библиотеки в левой колонке окна редактора отображаются названия ее элементов. Для работы с конкретным элементом необходимо щелкнуть левой кнопкой мыши на его названии, при этом в левом нижнем углу возникнет изображение корпуса микросхемы, соответствующей данному компоненту (рис. 2). В дан- КР1ЮЭКП17 КР15Ш1Ш КР15Э-ЭЛЛ1 КР1НЗПАг 5 КР1ЯЗПАЗ КР1ШГШ V д о □ 3 с и 3 тгптттппг Р2;{ ¿и, .. : :КРТ5ЭтЗ: □2:? 4 е : ■ Щ . :КРЛ5ЭЗЛАЗ: Ьв й .11 □ :КР1533ЛАЗ ::1$±53ЭПАЗ: Рис. 2. Выбор компонента и его размещение на рабочей области 46 ном примере использованы компоненты КР153ЛА3, КР153ЛЕ1 и КР153ТВ6. Щелчок левой кнопкой мыши на рабочей области листа помещает выбранный компонент в рабочую область, а щелчок правой кнопки мыши прекращает размещение выбранных компонентов. Компоненты в рабочей области можно вращать, редактировать, просматривать их свойства и т.д. с помощью опций контекстного меню, вызываемого через щелчок правой кнопки мыши. Автоматическая расстановка меток и названий компонентов осуществляется через меню Вид->Надписи компонентов->Основная-> Метки и Вид->Надписи компонентов-> Дополнительная-> Тип. При отсутствии необходимого компонента в библиотеке его можно скомпоновать из нескольких, соединив их так, чтобы вместе они выполняли необходимую функцию. Например, для инверсии на каком-либо выводе необходимо соединить его с логическим элементом НЕ. Сети После добавления всех требуемых компонентов на рабочий лист необходимо связать их между собой, т. е. объединить в сеть. Сети состоят из связей — ломаных линий, которые соединяют между собой выводы, другие связи или шины. Создать связи можно несколькими способами: • Непосредственное соединение выходов и входов компонентов. Для этого в меню Объекты подменю Схема необходимо выбрать пункт Установка связи или щелкнуть левой кнопкой мыши по пиктограмме т. . После этого, зажав левую кнопку мыши, №6(18)2008 можно соединять выводы компонентов между собой или с другими связями. Вести линию от шины нельзя, только к ней. При подведении линии к шине выводится список имеющихся в ней сетей для подсоединения к одной из них. Возможна фиксация промежуточных точек связи, для этого необходимо производить щелчки мышью в этих точках. Отмена создания связи производится нажатием правой кнопки мыши. • Выбор сети из списка. Если на печатной плате есть какие-либо сети, то в подменю вывода после щелчка правой кнопки мыши на выводе появляется пункт Добавить в сеть, при выборе которого открывается список всех существующих на плате сетей. После выбора нужной сети создается связь между текущим выводом и ближайшей к нему связью сети. Если какая-либо шина содержит эту сеть и расстояние до нее ближе, чем до связи, то создается новая связь к шине. Возможно также подсоединение вывода к сети без проведения связи, для этого в диалоге выбора сети из списка необходимо отметить флажок «Соединить без связи». • Создание по таблице связей. Открыть таблицу связей можно из подменю сети, выполнив щелчок правой кнопкой мыши на какой-либо связи, или из подменю вывода, принадлежащего сети, щелкнув правой кнопкой мыши на выводе. В таблице связей можно изменять (добавлять или удалять) списки выводов для всех существующих сетей. При удалении элемента списка производится удаление присоединения к выводу с изменением структуры связей. При добавлении создается связь от выбранного вывода до ближайшей связи текущей сети или содержащей ее шины. Шина Шина предназначена для визуального объединения некоторого количества сетей в одну линию, она строится из сегментов под углами 90°. Присоединение связи к шине выполняется с помощью пункта Установка шины подменю Схема меню Объекты или щелчком левой кнопки мыши по пиктограмме fc . Линии шины прорисовываются синим цветом и имеют большую толщину, чем сети. В местах подведения связей к шине выводится имя сети. С помощью межстраничных переходов можно располагать одну шину на разных страницах, для этого необходимо подсоединить части шины, находящиеся на разных страницах, к переходам с одинаковыми именами. Для соединения межстраничных переходов, находящихся на разных листах, необходимо задать им одинаковые имена. Каждая шина имеет список сетей, входящих в нее. При подведении связей к шине выводится список этих сетей для присоединения к одной из них. Если к шине до этого не было подведено ни одной сети, список не выводится, а данная сеть становится первой в списке. Подключение связей к шине можно изменять в любой момент времени: подводить к другой сети из списка или выделять в новую сеть. После того как все необходимые элементы взаимосвязаны и объединены в шину, принципиальная схема готова для трассировки в печатную плату (рис. 3). 2. Создание печатной платы Трассировка представляет собой процесс оптимального развода проводников на печатной плате. После размещения необходимых компонентов и соединения их в сети и шины перед экспортированием готовой принципиальной схемы для трассировки в редактор PCB Layout целесообразно выполнить проверку связей. Система не допускает «висящих в воздухе» сетей, так как при построении сразу создается логическая структура принципиальной схемы и будущей платы. Проверка выполняется с помощью пункта Проверка связей меню Проверка. При отсутствии ошибок переходим непосредственно к разводке проводников на печатной плате путем нажатия клавиш Ctrl+B или через пункт Преобразовать в плату меню Файл. <0 р i л <0 t оа 47 Ия6(18) 2008 1 £ S= S s Q f <U Ü I S g SI £2 CO <0 g 8 £ Q Sb 5 IE s Q to Ü л Рис. 3. Принципиальная схема составлена и готова для трассировки PCB Layout предназначен для создания и редактирования печатных плат. Если принципиальная схема не загружена напрямую в PCB Layout из редактора Schematic (Схемотехника), то ее необходимо импортировать в PCB Layout через пункт Обновить структуру из схемы (По компонентам или По меткам компонентов) меню Файл и в появившемся диалоговом окне выбрать файл формата .dch с необходимой принципиальной схемой. После этого в рабочей области появятся изображения корпусов компонентов принципиальной схемы. Связи между выводами корпусов отображаются тонкими синими линиями, поскольку трассировка еще не произошла. Автоматическая расстановка меток и названий корпусов осуществляется через меню Вид->Надписи компонентов->Основная->Метки и Вид-> Надписи компонентов->Дополнительная-> Тип. При запуске или создании нового проекта существуют 2 сигнальных слоя: Верхний и Нижний. Их нельзя удалять, но можно переименовывать. Для отображения всех слоев печатной платы необходимо выбрать из главного меню пункт Слой->Показать->Все слои. Далее следует выставить для проводников каждого слоя свой цвет, чтобы они не сливались: меню Слой->Свойства слоев. Порядок изменения свойств слоя показан на рис. 4. Теперь можно приступить к трассировке. PCB Layout содержит встроенный сеточный оптимизационный автотрассировщик Grid Router, который может создавать несколько вариантов трассировки платы и выбирать лучший. Существуют 4 режима настройки автотрассировщика, которые различны по скорости и качеству. Для открытия диалога изменения текущих параметров автотрассировщика необходимо выбрать из главного меню команду Трассировка пункт Параметры автотрассировки или кликнуть левой кнопкой мыши на пиктограмму Et. 48 Ив6(18)2008 -We U1_Q Рис. 4. Порядок изменения свойств слоя «о Р i л <0 t оа При автотрассировке возможно несколько режимов создания трасс. По умолчанию автотрассировщик не изменяет уже разведенные трассы и создает новые только на основе логических связей. Также в DipTrace имеются режимы: • полной трассировки, когда удаляются все трассы сети и разводка производится заново; • коррекции трасс, когда производится трассировка на основе существующих логических связей, при этом допускается коррекция уже разведенных трасс; • отсутствия трассировки, когда разводка данной сети вообще не производится. Любой режим автотрассировки может быть выставлен для каждой сети отдельно. Ход автотрассировки отображается в правом верхнем углу экрана. Автоматическая трассировка осуществляется путем нажатия клавиши F9, через пункт Запуск меню Трассировка или кликом левой кнопки мыши на пиктограмме <• . На рис. 5 показан процесс автотрассировки. Тонкие линии соответствуют еще не разведенным проводникам. В редакторе PCB Layout существует функция проверки трассированной печатной платы, которая выполняется через пункт Показать ошибки трассировки меню Трассировка или нажатием пиктограммы 7 , с выявлением и показом ошибок трассировки. Ошибками трассировки считаются пересечения трасс, слишком узкие зазоры между проводниками и объектами, а также слишком маленькие размеры трасс и отверстий. Ошибки показываются в виде красных окружностей для зазоров и пересечений и синих — для размерных ошибок, отображение не зависит от текущего сигнального слоя. Возможны также редактирование автотрассировки или ручная трассировка. Можно проверить все соединения на соответствие принципиальной схеме через пункт Сравнение со схемой меню Проверка, далее выбирается файл с расширением .dch, и схема из файла сравнивается с текущей печатной платой, выдается список несоответствий или сообщение об отсутствии 49 Ns6(18) 2008 ' дтмщ« _£™J_ Sr Рис. 5. Процесс автотрассировки Ü £ S 5 00 О 6 <и ! t S В I !5 со <0 8 £ £ 5 IE s 00 О П § л ошибок. При выборе ошибки из списка производится подсветка соответствующего объекта на плате, и справа в этом же окне показывается подробное описание. В случае если к плате по сравнению со схемой добавлялись элементы и сети, а уже имеющаяся конфигурация не менялась, то выдается сообщение об отсутствии ошибок. Важной процедурой тестирования проекта является также проверка целостности сетей, выполняемая через пункт Проверка целостности сетей меню Проверка. При этом проверяется, все ли сети имеют соединение (независимо от того, чем они соединены). При наличии ошибок появляется окно со списком ошибок и их причинами, а если ошибок нет — генерируется сообщение об их отсутствии. Наиболее распространенные ошибки — не соединенные выводы компонентов или слишком близкое расположение выводов. В первом случае для исправления ошибок следует еще раз проверить связи на принципиальной схеме, а во втором — изменить в настройках трасси- ровки минимально возможное расстояние между трассами. Работа считается выполненной, если составленная принципиальная схема и созданная по ней оттрассированная печатная плата не содержат ошибок. САПР DipTrace в целом можно охарактеризовать как удобный и функциональный инструмент для решения академических, любительских и, что немаловажно, профессиональных задач в области проектирования электроники. ]]></text>
</doc>
