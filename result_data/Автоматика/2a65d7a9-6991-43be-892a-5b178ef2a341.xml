<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/mikroprotsessornyy-registrator-avariynyh-rezhimov-dlya-energosistem]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Ермаков Владимир Филиппович]]></item>
    <item type="str"><![CDATA[Горобец Андрей Васильевич]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Микропроцессорный регистратор аварийных режимов для энергосистем]]></title>
  <keywords auto="true" type="list" verify="true">
    <item type="str"><![CDATA[энергосистема]]></item>
    <item type="str"><![CDATA[авария]]></item>
    <item type="str"><![CDATA[РЕГИСТРАЦИЯ]]></item>
    <item type="str"><![CDATA[Компьютер]]></item>
    <item type="str"><![CDATA[a power supply system]]></item>
    <item type="str"><![CDATA[Failure]]></item>
    <item type="str"><![CDATA[Registration]]></item>
    <item type="str"><![CDATA[computer]]></item>
  </keywords>
  <annotation auto="true" type="str" verify="true"><![CDATA[В статье описан регистратор аварий в энергосистемах, предназначенный для записи аварий на 16 объектах. Регистратор реализован в малогабаритном исполнении на AVR-микроконтроллере.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[© 2008 г. В.Ф. Ермаков, А.В. Горобец Южно-Российский государственный South-Russian State Technical University технический университет (Novocherkassk Polytechnic Institute) (Новочеркасский политехнический институт) В статье описан регистратор аварий в энергосистемах, предназначенный для записи аварий на 16 объектах. Регистратор реализован в малогабаритном исполнении на AVR-микроконтроллере. Ключевые слова: энергосистема, авария, регистрация, компьютер. In clause the registrar of emergencies for the power supply systems, intended for record offailures on 16 objects is described. The registrar is realized in small-sized execution on AVR-microcontroller. Ill. 1. Keywords: a power supply system, failure, registration, computer. Предлагаемая информационно -измерительная система предназначена для регистрации параметров переходных процессов изменения напряжения и тока в электрических сетях при авариях. Используемый в энерогосистемах старинный осциллограф для записи аварийных процессов неудобен в эксплуатации и очень громоздок, устройства для сбора, преобразования и передачи данных о параметрах физической среды [1, 2], наиболее близкие по структуре, также не могут быть использованы для регистрации параметров аварий. Схема предлагаемого регистратора (рис. 1) содержит группу аналоговых датчиков (АД) 1 - 2, группу цифровых датчиков (ЦД) 3 - 4, многоканальные аналоговый 5 (МАК) и цифровой 6 (МЦК) коммутаторы, формирователь 7 модуля (ФМ), нуль-орган (НО) 8, источник 9 опорных напряжений (ИОН), дешифратор 10, оперативные запоминающие устройства (ОЗУ) 11 - 13, постоянное запоминающее устройство (ПЗУ) 14, микроконтроллер (МК) 15, таймер 16, од-ноканальные аналоговые коммутаторы (ОАК) 17 - 19, генератор 20 тактовых импульсов (ГТИ), аналого-цифровой преобразователь (АЦП) 21, регистр 22, счетчики 23 - 27, элементы ИЛИ 28 - 32, одновибра-торы 33 - 46, триггеры 47 - 49, элемент И-НЕ 50, элементы И 51 - 56, числовые компараторы (ЧК) 57 и 58, блок 59 задания кода границы (БЗКГ). Микроконтроллер имеет шину данных (ШД), шину управления (ШУ) и адресную шину (ША). Генератор 20 выполнен кварцевым, его частота равняется 1 - 20 МГц (в зависимости от необходимой точности). Частота импульсов на первом выходе ГТИ 20 является максимальной, на втором она ниже, не третьем еще ниже. Частоты могут отличаться на несколько порядков. Счетчики 24 и 25 имеют одинаковую емкость, которая равна числу выборок предаварийного процесса. Емкость счетчика 26 равняется числу выборок, получаемых за суммарное время аварийного и предаварийного процессов. Схема формирователя 7 модуля (рис. 2) содержит инвертор 61 и ОАК 62 и 63. Таймер 16, представляющий собой часы реального времени, предназначен для регистрации астрономического времени аварии с точностью до секунд, он позволяет зафиксировать год, месяц, дату, часы, минуты и секунды начала аварии. На выходах ИОН 9 задаются напряжения (например): на первом (нижнем) - 0,1023 В, на втором -1,023 В, на третьем - 10,23 В. Соотношение этих напряжений 1:10:100. Регистратор работает следующим образом. Информация непрерывно поступает от аналоговых датчиков 1 - 2, представляющих собой измерительные трансформаторы тока и напряжения. Выходы АД 1 - 2 поочередно подключаются через последовательно соединенные МАК 5 и ФМ 7 ко входу АЦП 21 в зависимости от кода на выходе счетчика 23. Например, при коде 0000 на выходе счетчика 23 (соответствующем контролю информации в первом канале с датчиками АД 1 и ЦД 3) ко входу АЦП 21 подключен выход АД 1 . С выхода МАК 5 на вход ФМ 7 и НО 8 поступают положительные и отрицательные полуволны синусоидальных сигналов. При положительной полуволне на прямом выходе НО 8 присутствует единица, на инверсном - ноль. Единичное напряжение с прямого выхода НО 8 прикладывается к управляющему входу коммутатора 62 (рис. 2) и открывает его - входное положительное напряжение после прохождения через коммутатор 62 без изменений появляется на выходе ФМ 7. При отрицательной полуволне наоборот на прямом выходе НО 8 присутствует ноль, на инверсном -единица. В этом случае коммутатор 62 закрывается, а коммутатор 63 открывается и пропускает на выход ФМ 7 инвертированное инвертором 61 входное напряжение - в результате на выходе ФМ 7 также присутствует положительное напряжение. Е_ В'П 27 т 45 46 □ Ln 33 |_ 10 опои- □ 59 58 В U2 и 5 ш 21 гг 0 • ЧВД»iff j 11 51 12 13 14 Рис. 1. Схема регистратора аварийных ситуаций По заднему фронту очередного импульса с третьего выхода ГТИ 20 срабатывает счетчик 27 (его содержимое становится равным 01), а также запускается одновибратор 33, который своим выходным импульсом приводит в действие АЦП 21. При входном коде 01 дешифратор 10 вырабатывает на первом выходе управляющее единичное напряжение, которое откры- вает коммутатор 17 - ко входу опорного напряжения АЦП 21 прикладывается напряжение 0,1023 В с первого выхода ИОН 9. В этом случае масштаб преобразования равен 1 . Выходной код АЦП 21 с помощью ЧК 58 сравнивается с кодом границы 0011001112 = 10310 (число 103 чуть больше числа 1024:10 = 102,3), задаваемым БЗКГ 59. 9 7 Рис. 2. Схема формирователя 7 модуля Если граница 001100111 превышена (т. е. Л<В), то на выходе «Л<В» ЧК 58 появляется единичное напряжение, запускающее одновибратор 44. Выходной импульс последнего засчитывается счетчиком 27, содержимое которого становится равным 10 - управляющее напряжение появляется на втором выходе дешифратора 10, открывая коммутатор 18, который пропускает напряжение 1,023 В со второго выхода ИОН 9 на вход опорного напряжения АЦП 21. В этом случае масштаб преобразования равен 10. Если и в этом случае граница 001100111 оказывается превышенной, то содержимое счетчика 27 становится равным 11, управляющее напряжение появляется на третьем выходе дешифратора 10, открывается коммутатор 19, пропуская напряжение 10,23 В со второго выхода ИОН 9 на вход опорного напряжения АЦП 21. В этом случае масштаб преобразования равен 100. Появляющееся на третьем выходе дешифратора 10 единичное напряжение запускает цепь одновибра-торов 45 - 46, вносящих задержку появления единичного сигнала на втором входе элемента И 56, которая необходима для исключения ложной записи информации в ОЗУ 11 при третьем запуске АЦП 21. Импульсом с выхода окончания цикла преобразования АЦП 21 двоичный код очередной выборки процесса с выхода АД 1 записывается в ОЗУ 11. В том случае, если граница 001100111 не превышена (т. е. «Л=В» или «Л>В»), то на одном из выходов «Л=В» или «Л>В» ЧК 58 появляется единичное напряжение, которое через элемент ИЛИ 32 прикладывается ко второму входу элемента И 56 - импульс с выхода окончания цикла преобразования АЦП 21 проходит через элемент И 56, что приводит к записи двоичного кода очередной выборки процесса с выхода АД 1 в ОЗУ 11. Импульс с выхода окончания цикла преобразования АЦП 21, после прохождения через элемент И 56, обнуляет содержимое счетчика 27 (приводя схему выбора масштаба преобразования в исходное состояние), а также запускает одновибратор 34. Импульсом с выхода окончания цикла преобразования АЦП 21 двоичный код очередной выборки процесса с выхода АД 1 (старший разряд информационного кода формируется на прямом выходе НО 8, группа средних разрядов кода задается с выхода счетчика 27, группу младших разрядов кода представляет непосредственно информационный код на выходе АЦП 21) записывается в ячейку ОЗУ 11 по адресу, формируемому счетчиками 23 и 25, например, 00000010 (старшая часть адресного кода 0000 формируется счетчиком 23, а младшая часть 0010 - счетчиком 25). По заднему фронту импульса с инверсного выхода одновибратора 34 запускается одновибратор 36, выходной импульс которого поступает на первый вход элемента И-НЕ 50. При отсутствии аварии в первом канале с датчиком АД 1 соответствующий ему цифровой датчик ЦД 3 имеет на выходе нулевое напряжение. Это напряжение через коммутатор 6 прикладывается ко второму входу элемента И-НЕ 33 и блокирует его для прохождения импульсов с выхода одновибратора 36. В случае аварии в первом канале на выходе ЦД 3 появляется единичное напряжение, которое прикладывается ко второму входу элемента И-НЕ 33 и запускает одновибратор 37. Последний записывает код 0000 с выхода счетчика 23 в регистр 22, выходной код которого поступает на ШД МК 15 и прикладывается ко второму входу ЧК 57, к первому входу которого также приложен код 0000 с выхода счетчика 23. Поскольку коды на первом и втором входах ЧК 57 выравниваются, то на его выходе «А=В» появляется единичное напряжение, которое прикладывается ко вторым входам элементов И 52 - 53. В случае аварии импульс с выхода одновибратора 36 проходит через элемент И-НЕ 50 и переводит в единичное состояние триггер 47, напряжение с выхода которого запускает одновибратор 38, выходной импульс которого, после прохождения через одновиб-ратор 39, переводит в единичное состояние триггер 48 и поступает на вход первого вектора прерываний МК 15. По первому вектору прерываний МК 15 переходит на выполнение первого программного блока, который осуществляет запись номера канала (0000) и времени начала аварии в этом канале (код времени с выхода таймера 16) в области памяти ПЗУ 14, отведенной для регистрации данных по одной аварии. Выполнение программы в МК 15 осуществляется параллельно с работой аппаратной части регистратора. При этом в первую очередь, путем воздействия на вход захвата таймера 16 импульсом из ШУ МК 15, время аварии заносится в выходные регистры таймера 16. Затем номер канала 0000, в котором произошла авария, записывается из регистра 22 в ПЗУ 14, после чего выходы регистра 22 переходят в пассивное (так называемое третье) состояние. Далее выходы выходных регистров таймера 16 поочередно переходят (в зависимости от выбранного формата данных в ПЗУ 14) в активное состояние, и время аварии фиксируется в ПЗУ 14 с точностью до секунды. Учитывая, что емкость счетчика 25 равна числу выборок предаварийного процесса, его код 0011, сформировавшийся для записи информации при следующей выборке процесса с выхода АД 1, одновременно является младшей частью адреса ячейки ОЗУ 11, в которой находится код выборки начала предаварийного процесса. В связи с этим, начиная с адреса 00000011, из ОЗУ 11 в ОЗУ 12 начинают переписы- ваться выборки предаварийного процесса. Происходит это следующим образом. После перехода в единичное состояние триггера 48 напряжение с его выхода прикладывается к первому входу элемента И 29, на второй вход которого поступают импульсы максимальной частоты с первого выхода ГТИ 20. Выходные импульсы элемента И 29 с такой же частотой начинают переключать триггер 49, напряжения выходов которого поочередно запускают одновибраторы 40 и 41. После прохождения выходного импульса одно-вибратора 40 через элемент И 52 и элемент ИЛИ 32 код выборки начала предаварийного процесса переписывается из ячейки с адресом 00000011 ОЗУ 11 в ячейку с адресом 000000 ОЗУ 12. После прохождения выходного импульса одно-вибратора 41 через элемент И 53 на единицу увеличивается содержимое счетчика 24 (оно становится равным 0001); после прохождения импульса через элемент ИЛИ 28 на единицу увеличивается содержимое счетчика 25 (оно становится равным 0100); после прохождения импульса через элемент ИЛИ 29 на единицу увеличивается содержимое счетчика 26 (оно становится равным 000001). В следующем такте работы триггера 49 содержимое счетчиков становится равным: 24 - 0010, 25 -0101, 26 - 000010 и т. д. После полной перезаписи информации о предава-рийном процессе из ОЗУ 11 в ОЗУ 12 содержимое счетчиков равно: 24 - 1111, 25 - 0011, 26 - 001111. При этом на выходе переноса счетчика 24 появляется единичное напряжение, запускающее одновибра-тор 43, выходные импульсы которого устанавливают в нулевое состояние счетчик 24, а также триггеры 48 и 49. После этого в ОЗУ 11 и 12 продолжается запись аварийного процесса в масштабе реального времени. При очередной выборке аварийного процесса в первом канале импульс с выхода окончания цикла преобразования АЦП 21 записывает код выборки в ячейку ОЗУ 11 с адресом 0011, а импульс с выхода одновибратора 34 (после прохождения через элемент И 51 и элемент ИЛИ 32) записывает этот же код с выхода ОЗУ 11 в ячейку ОЗУ 12 с адресом 001111. После этого импульс одновибратора 35, после прохождения через элемент ИЛИ 28, увеличивает на единицу содержимое счетчика 25 (оно становится Поступила в редакцию равным 0100), а после прохождения еще и через элемент И 54 и элемент ИЛИ 29, увеличивает на единицу содержимое счетчика 26 (оно становится равным 010000). Таким образом продолжается накопление информации в ОЗУ 11 и 12 до полного окончания аварийного процесса, длительность которого контролируется счетчиком 26. При переполнении счетчика 26 на его выходе переноса появляется импульс, запускающий одновибра-тор 42, выходные импульсы которого устанавливают в нулевое состояние счетчик 26 и триггер 47, а также один из импульсов поступает на вход второго вектора прерываний МК 15. По второму вектору прерываний МК 15 переходит на выполнение второго программного блока, который переписывает данные об аварийном и предаварийном процессах из ОЗУ 12 в ОЗУ 13. После этого полученные данные об аварии переписываются из ОЗУ 13 в ПЗУ 14 и размещаются в области памяти, отведенной для регистрации данных по первой аварии. При следующих авариях регистратор работает аналогично. Данные о предаварийных процессах всех каналов регистратора непрерывно накапливаются в ячейках ОЗУ 11. Наличие дополнительного ОЗУ 13 позволяет применять ПЗУ 14 любого быстродействия. Таймер 16, ГТИ 20, ОЗУ 11 - 13 и ПЗУ 14 могут быть встроенными в микроконтроллер 15. Преимуществом предлагаемого регистратора по сравнению с аналогами является возможность регистрации параметров переходных процессов изменения напряжения и тока в электрических сетях при авариях, а также на интервалах времени, предшествующих аварийной ситуации. ]]></text>
</doc>
