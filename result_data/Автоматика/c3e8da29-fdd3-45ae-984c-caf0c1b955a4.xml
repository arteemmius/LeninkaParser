<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/otsenka-tochnosti-gruppovogo-nalozhennogo-upravleniya-resursami-operatsionnoy-sistemy-dlya-diskovogo-vvoda-vyvoda]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Кобец А. Л.]]></item>
    <item type="str"><![CDATA[Луковников В. В.]]></item>
    <item type="str"><![CDATA[Пименов В. М.]]></item>
    <item type="str"><![CDATA[Соколов Е. В.]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Оценка точности группового наложенного управления ресурсами операционной системы для дискового ввода / вывода]]></title>
  <keywords auto="true" type="list" verify="true"/>
  <annotation auto="true" type="str" verify="true"><![CDATA[]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[Введение Развитие технологий виртуализации уровня операционной системы (так называемая «container based virtualization») породило необходимость обеспечения группового управления различными ресурсами операционной системы. Наряду с обеспечением наложенного управления временем CPU, рассмотренного в ряде работ [Тормасов и др., 2006; Луковников и др., 2006], необходимо обеспечить эффективное планирование и других ресурсов ОС для групп потоков - одной из наиболее важных подсистем является дисковый ввод / вывод. Несмотря на стремительное увеличение производительности всех подсистем компьютера, диск по-прежнему является одним из наиболее уязвимых мест в силу механической структуры записи / чтения данных. Например, за последние десять лет производительность процессоров выросла в 50 раз, а скорость работы дисков лишь в 5 раз 1. Поэтому очевидной является необходимость планирования распределения пропускной способности данной подсистемы, иначе она может стать узким местом в производительности всей системы. В современных операционных системах имеются средства планирования не только процессорного времени, но и таких ресурсов, как пропускная способность сети и диска. Одним из наиболее эффективных способов управления ресурсами для групп потоков является накладывание ограничений в планировщиках операционной системы для различных подсистем. Примерами таких продуктов являются Virtuozzo и VServer 2. К сожалению, этот способ не всегда является возможным в силу отсутствия исходных кодов. Другой способ группового управления ресурсами - наложенное управление на более высоком, с точки зрения архитектуры операционной системы, уровне и на интервалах, превышающих интервалы планирования планировщика данной подсистемы. Это может осуществляться при помощи различных средств, предоставляемых операционной системой, - например, динамическое изменение приоритета ввода / вывода или резервирование пропускной способности диска. На данный момент существуют модели наложенного управления ресурсами центрального процессора. Математическая модель и методы группового управления ресурсами центрального процессора в условиях функционирования виртуальных выделенных серверов с целью ограничения потребления времени центрального процессора сверху была предложена ранее [Тормасов и др., 2006; Луковников и др., 2006]. На основании модели был построен алгоритм группового управления, который вводил два метода - жесткое и мягкое управление путем остановки выделения или ограничения скорости изменения потребления ресурса. Данная статья посвящена разработке и анализу математической модели планирования групп процессов ввода / вывода. 1 Sysoftware Project, архив результатов тестов оборудования, 2007. http://www.sisoftware.net. 2 Virtuozzo Server Virtualization Project, 2006. http://www.swsoft.com/en/products/virtuozzo; Linux-Vserver Virtualization Project, 2006. http://www.linux-vserver.org. ISSN 1818-7900. Вестник НГУ. Серия: Информационные технологии. 2007. Том 5, выпуск 1 © А. Л. Кобец, В. В. Луковников, В. М. Пименов, Е. В. Соколов, 2007 Постановка задачи Одной из задач данной работы было получить критерии качества планирования ресурсов дискового ввода / вывода для групп потоков на макроуровне. Для этого мы расширим модель и терминологию, предложенные в работе [Тормасов и др., 2006]. В связи с этим надо учесть особенности данной подсистемы, а именно: - ресурс подсистемы «пропускная способность диска» является возобновляемым ресурсом; - дисковый ввод / вывод имеет свою специфику: наличие кэша и двух типов операций -чтения и записи; - в системе может быть несколько дисков (в данной модели разные диски считаются разными ресурсами). В связи с тем, что операции работы с диском через кэш и напрямую отличаются, предлагается разбить подсистему дискового ввода / вывода на четыре подсистемы: запись на диск, чтение из диска, запись в кэш, чтение из кэша. Введем понятие группы потоков как множества потоков, объединенных по какому-то признаку, например запущенных одним и тем же родительским процессом. Группа потоков характеризуется функцией потребления ОЯ, которая равна 1, если один из потоков группы потребляет ресурс, равна 0, если никто не потребляет. Таким образом, для возобновляемых ресурсов мы имеем: ОЯ(^ С "0,1}. Пример функции потребления представлен на рис. 1. Здесь группа потоков потребляет ресурс на промежутках времени от 3 до 14 и от 23 до 25, в остальное время группа ресурс не потребляет. Группа потоков имеет собственное время, которое в общем случае не совпадает с собственным временем потоков в группе (совпадение может быть, если в группе только 1 поток или только 1 поток потребляет ресурс, а остальные бездействуют). Рассмотрим группу, состоящую из 2-х потоков, один из которых потребляет ресурс в моменты системного времени 2, 7 и 11, а второй только в 9. Преобразование системного времени в групповое время, а затем во время первого потока представлено на рис. 2. Из определения группы потоков видно, что значение функции потребления ОЯ совпадает со значением функции потребления /-го потока в группе, когда 7-й поток потребляет ресурс, т. е. Я = 1. Очевидно, так как речь идет об одном ресурсе, ОЯ = Я- в тот момент времени, когда 7-й поток потребляет ресурс. Таким образом, если мы имеем N потоков в группе, кото- Функция потребления 1--------------------------------------------------- С£ о ~\--------------1------ 10 15 20 25 Время Рис. 1. Пример функции потребления для группы потоков 30 35 0 0 5 30 А. Л. Кобец, В. В. Луковников, В. М. Пименов, Е. В. Соколов рые потребляют один ресурс, то, поскольку в каждый момент времени ресурс потребляется одним потоком, оя (<,)=(р (',,)). 7 = 1 Р (*,,.) - функция преобразования времени группы в собственное время потока, , - собственное время группы потока. Пусть функция преобразования собственного времени группы в реальное (системное) время выглядит следующим образом: * = ^ (,). (1) Интенсивность «обменов с диском» 123456789 10 11 Собственное время потока Рис. 2. Иллюстрация преобразования системного времени 1 0 1 0 1 0 Тогда критерий качества для группы потоков: т , . , й¥,г(,) Т2 I / (О / О(г М)-^ > # ш(р,'(1.-))^г1 + ЬОТ- а°т- Т1 , Т1 ^ где БЯ ‘Е,г (,)) - функция, описывающая неконтролируемые эффекты ОС; Ь - доля пропускной способности диска; БТ = Т2 — Т1 - временной интервал, на котором хотим удовлетворить критерию качества; а - допустимая погрешность управления. Таким образом, по аналогии с [Тормасов и др., 2006], накладывая ограничения на функцию преобразования времени Е,г (*,,,) путем изменения скорости потребления (уменьшая значение производных в формуле (1), замедляя собственное время группы) и анализируя поведение системы в режиме реального времени, мы можем достигнуть приемлемую точность выделения пропускной способности диска. Заключение Мы распространили модель оценки точности наложенного управления для подсистемы ввода / вывода групп потоков, тем самым расширив предложенную ранее [Тормасов и др., 2006] модель для возобновляемых ресурсов. Были формализованы критерии качества такого управления со спецификой группового наложенного управления. Дальнейшие направления работы: - исследование и получение ограничений в явном виде, которые нужно наложить на управляющую систему нижнего уровня, чтобы обеспечить требуемое качество управления; - исследование ограничений на функции преобразования для обеспечения заданной точности; - расширение модели на случай N одинаковых ресурсов (дисков). ]]></text>
</doc>
