<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://cyberleninka.ru/article/n/unifikatsiya-formatov-dannyh-pri-vzaimodeystvii-s-terminalami-podvizhnyh-sredstv]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Автоматика]]></category>
  <author auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Сонькин Дмитрий Михайлович]]></item>
    <item type="str"><![CDATA[Шкуратов Антон Викторович]]></item>
    <item type="str"><![CDATA[Саврасов Фёдор Витальевич]]></item>
    <item type="str"><![CDATA[Миньков Александр Сергеевич]]></item>
  </author>
  <title auto="true" type="str" verify="true"><![CDATA[Унификация форматов данных при взаимодействии с терминалами подвижных средств]]></title>
  <keywords auto="true" type="list" verify="true">
    <item type="str"><![CDATA[параметрическая технология]]></item>
    <item type="str"><![CDATA[универсальный формат]]></item>
    <item type="str"><![CDATA[структура пакета]]></item>
  </keywords>
  <annotation auto="true" type="str" verify="true"><![CDATA[Рассмотрена параметрическая технология формирования и отправки данных для систем мониторинга и управления транспортом, позволяющая снизить объем подлежащих к передаче данных с сохранением всей значимой и актуальной информации. Предложен оригинальный формат для формирования пакетов с данными, поддерживающий передачу навигационной, производственной и служебной информации. Положенные в основу рассматриваемого формата принципы дельта кодирования и бинарного преобразования позволяют уменьшить объем передаваемой информации. Приведен пример адаптации предложенного формата данных для системы мониторинга и диспетчерского управления таксопарком.]]></annotation>
  <text auto="true" type="str" verify="true"><![CDATA[Д.М. Сонькин, А.В. Шкуратов, Ф.В. Саврасов, А.С. Миньков* Томский политехнический университет *ООО «ИНКОМ», г.Томск E-mail: sonkind@tpu.ru Рассмотрена параметрическая технология формирования и отправки данных для систем мониторинга иуправления транспортом, позволяющая снизить объем подлежащих к передаче данных с сохранением всей значимой и актуальной информации. Предложен оригинальный формат для формирования пакетов сданными, поддерживающий передачу навигационной, производственной и служебной информации. Положенные в основу рассматриваемого формата принципы дельта кодирования и бинарного преобразования позволяют уменьшить объем передаваемой информации. Приведен пример адаптации предложенного формата данных для системы мониторинга идиспетчерского управления таксопарком. Ключевые слова: Параметрическая технология, универсальный формат, структура пакета. Key words: Parametric technology, universal format, package structure. Введение За последние 15 лет появились разнообразные технические решения, направленные на автоматизацию диспетчерских служб, осуществляющих мониторинг и диспетчерское управление подвижными транспортными средствами. Диапазон этих разработок достаточно широк: от автономных программных комплексов до интегрированных аппаратно-программных решений с передачей данных по различным каналам связи [1]. Несмотря на кажущуюся «разнородность» в реализации аппаратно-программных средств, эти системы решают схожие функциональные задачи по осуществлению мониторинга и взаимодействию мобильных навигационных терминалов с диспетчерским центром. При этом возникает интенсивная нагрузка на используемые каналы связи, вследствие чего происходит замедление скорости обработки передаваемых сообщений и ухудшение функционирования системы в целом. Необходимо отметить также и нерациональное использование трафика с учётом его стоимости. Представляется весьма актуальной задача разработки стандартного унифицированного формата для передачи данных между мобильными навигационными терминалами подвижных объектов и диспетчерским центром, предназначенного для повышения эффективности использования каналов связи. Параметрический подход к формированию и отправке данных Информацию, передаваемую с мобильных терминалов, можно функционально разделить на следующие категории: • навигационную (координаты, время, скорость и др.); • системную или служебную (информацию о работоспособности системы, показания различных датчиков); • производственную (сообщения, подтверждения, запросы, возникающие в ходе работы). Рассмотрим для примера систему диспетчерского управления таксопарком. Основной объем информации (более 80 %), передаваемой от автомобилей такси в диспетчерский центр, составляют навигационные данные о маршруте движения и о текущем местоположении. Чем чаще эти значения будут отправляться в центр сбора данных, тем подробнее будет маршрут движения, но тем больший объём информации подлежит передаче. Можно уменьшить частоту передачи данных, не изменяя дискретность фиксации данных; при этом уменьшится актуальность передаваемых данных, а т. к. объем передаваемых данных останется прежним, то пульсирующая нагрузка на канал связи будет более выражена [2]. Уменьшение частоты фиксации данных позволит сократить объем передаваемых значений и нагрузку на канал, но приведет к ухудшению качества записи траектории передвижения, что может негативно сказаться на функциональной задаче мониторинга. Таким образом, с одной стороны - необходимо уменьшить частоту и объем передаваемых пакетов, а с другой стороны - сохранить возможность полноценного обмена актуальной информацией. Одним из целесообразных способов решения данной задачи является введение «параметрического» подхода к формированию навигационных данных. Основная идея данного подхода заключается в фиксировании данных не с жёстко заданным временным интервалом, а по превышению значений заданных параметров. В качестве основных управляющих параметров Р можно выделить: • Iт - суточный маяк - временной параметр, обозначающий время в сутках (с точностью до 1 с) для фиксации навигационных и служебных данных; • - периодический маяк - временной параметр, задающий минимальную частоту для фиксации (от 1 с до 24 ч) навигационных и служебных данных; • ^ - пройденное расстояние - параметр, обозначающий пройденное расстояние (в метрах), по факту прохождения которого должны фиксироваться навигационные и служебные данные; • и - угол поворота - параметр, обозначающий величину изменения направления движения (в градусах), при достижении или превышении которого фиксируются навигационные и служебные данные; • Ущл - превышение скорости - параметр, обозначающий величину скорости, превышение которой должно сопровождаться фиксацией навигационных и служебных данных; • кп - вход в контрольную точку/зону - параметр, обозначающий факт вхождения подвижного объекта в заданную область (окружность/многоугольник). Набор контрольных точек/зон хранится на терминале; • к„и1 - выход из контрольной точки/зоны - параметр, обозначающий факт оставления подвижным объектом заданной области (окружность/многоугольник). Набор контрольных точек/зон хранится на терминале; • кцпе - прохождение контрольной линии - параметр, обозначающий факт пересечения подвижным объектом контрольной линии. Набор контрольных линий хранится на терминале; • ц - срабатывание датчика - группа параметров для датчиков. Данные должны фиксироваться по факту срабатывания датчика; • Ьк - сообщение по инициативе водителя отправляется производственная информация (ответ/запрос/подтверждение). Параметрический подход к формированию данных также предполагает разделение параметров по приоритету. В зависимости от выбранного приоритета соответствующие данные могут быть: • немедленно отправлены в центр сбора данных; • зафиксированы и отправлены в центр сбора данных с ближайшим пакетом по интервалу передачи данных; • зафиксированы и сохранены в энергонезависимой памяти терминала. Универсальный формат для обмена данными между мобильным терминалом и диспетчерским центром Приведённая выше параметрическая технология формирования данных и необходимость интеграции навигационной, служебной и производственной информации в рамках одного пакета требуют разработки универсального формата передаваемых данных. Зависимость количества разрабатываемых форматов данных информационных пакетов, максимально описывающих и покрывающих все возможные комбинации передаваемой информации, и времени, предназначенного на доработку и модификацию этих форматов, представлена на рис. 1. Первый график - отображает случай, когда вся функциональность покрывается большим набором форматов данных, при этом имеется повторяемость функционально направленных форматов, структура пакетов не унифицирована. На втором графике представлен классический экстенсивный путь развития: каждой возможной функциональной задаче соответствует отдельный формат данных. Дублирование исключено. Третий график соответствует случаю, когда имеется единственный унифицированный формат данных. Совершенно очевидно, что данный график отображает оптимальный вариант для реализации, т. к. чем меньше итоговое количество фор- Количество функциональных задач Рис. 1. Примеры зависимости затрачиваемого времени на доработку разных форматов с ростом количества функциональных задач матов, тем проще производить в дальнейшем их модификацию и доработку. Отношение размера пакета (пакетов) к объему полезной передаваемой информации приведено на рис. 2, где Н - объем полезной передаваемой информации; Ь - размер пакета; Н1 - объем полезной передаваемой информации, при котором размеры пакетов (графики I и II) равны ¡{; к2 - объем полезной передаваемой информации, при котором размер пакета (график II) меньше размера (график I) на величину ¡2-1—¡2.2- Первый график отображает ситуацию, когда для передачи данных используется набор пакетов, где для каждой функциональной задачи предусмотрен отдельный формат пакета. На малых объемах информации такой подход обеспечивает хорошую экономичность за счет отсутствия «лишних» данных. Размер передаваемых пакетов растет линейно от объема информации. Второй график отображает случай использования унифицированного формата данных при формировании пакета. На малых объемах информации он имеет больший размер, в виду добавления системных полей. С ростом объема информации размер пакета увеличивается нелинейно, и отношение длины пакета к объему информации уменьшается. Рис. 2. График изменения размера пакета в зависимости от объема полезной информации Наиболее актуальной ситуации при передаче данных соответствует случай Н2, когда выгода от использования второго подхода перекрывает его недостатки [3]. К рассмотрению предлагается унифицированный формат данных для формирования навига- Рис. 3. Структура пакета для передачи навигационной, служебной и производственной информации Таблица 1. Описание структуры пакета № Поле Размер, бит Описание 1 PID 8 Заголовок пакета 2 RR 8 Зарезервированный байт для возможности дальнейшей модернизации 3 DT 32 Дата и время на момент начала формирования пакета (точность до 1 с) 4 SS 8 Служебная информация опорного блока (описание приведено в табл. 2) 5 Y 24 Широта на момент начала формирования пакета 6 X 24 Долгота на момент начала формирования пакета 7 PB N 2 Заголовок подблока 8 bED N 1 Признак наличия дополнительных данных 9 EvC N 5 Количество событий/производственных данных, присоединенных к подблоку 10 TO N 2 Размерность смещения времени относительно предыдущего блока/подблока 11 TOD N.1 8 Разница в секундах относительно предыдущего блока/подблока (до 255 с). Поле присутствует независимо от значения ТО N 12 TOD N.2 8 Разница в секундах относительно предыдущего блока/подблока (до 1092 мин). Поле присутствует, если ТО N=01 или 10 13 TOD N.3 8 Разница в секундах относительно предыдущего блока/подблока (до 194 суток). Поле присутствует, если ТО N=10 14 SS N 8 Служебная информация подблока (аналогично SS опорного блока, описание приведено в табл. 2) 15 YO N.1 8 Смещение по широте относительно предыдущего блока/подблока. Поле присутствует всегда 16 YO N.2 8 Смещение по широте относительно предыдущего блока/подблока. Присутствует, если 6-й бит SS N=1 17 XO N.1 8 Смещение по долготе относительно предыдущего блока/подблока. Поле присутствует всегда 18 XO N.2 8 Смещение по долготе относительно предыдущего блока/подблока. Присутствует, если 6-й бит SS N=1 19 EDid N 8 Код шаблона дополнительных данных. Присутствует, если ЬБР N=1 20 ED N k Набор данных в соответствии с указанным кодом шаблона ЕйИ N. Присутствует, если ЬБР N=1 21 EvID N.M 8 Код события/производственных данных. Поле присутствует, если БуС N>0 и М<БуС N 22 EvD N.M l Данные в соответствии с Еу1Р ^М. Поле может отсутствовать (1=0 бит), в зависимости от Еу1Р ^М ционной, служебной и производственной информации. Структура пакета приведена на рис. 3. Пунктирными линиями выделены поля, которые добавляются в пакет (подблоки) по необходимости. Описание полей приведено в табл. 1 и 2. При разработке предложенного формата данных использованы следующие подходы и принципы: • минимизации передаваемой информации; • интеграции передаваемой информации с навигационными данными; • дельта-кодирования; • бинарного преобразования. Принцип дельта-кодирования заключается в том, что на каждом шаге, при кодировании текущего дельта блока, ряд данных кодируются не собственными значениями, а изменением параметров относительно предыдущего блока. Изменения значений параметров времени (TOD N.1, TOD N.2, TOD N.3), координат (YO N.1, YO N.2, XO N.1, XO N.2) «предыдущего» и «последующего» блоков навигационных данных незначительны и носят линейный характер, т. к. они не изменяются скачкообразно или по нелинейному закону. Применяя принцип дельта-кодирования, можно гарантировать достаточно большую степень сжатия данных, в данном случае - навигационной информации: при небольших смещениях по времени и координатам, на каждом дельта блоке можно сэкономить до 32 бит. Преобразование входного пакета исходной информации из А8СП-символьного вида в бинарное представление позволяет избавиться от избыточности символьного кодирования с одновременным сжатием объема исходных данных. Таблица 2. Описание служебного байта SS № бита Описание Возможные значения 7 Действительность текущих навигационных данных 0 - Данные не действительны 1 - Данные действительны 6 Признак формата текущего дельта блока 0 - 3 байта (УО N и ХО N -однобайтовое) 1 - 5 байт (УО N и ХО N -двухбайтовое) 5 Текущая широта 0 - N - северная 1 - S - южная 4 Текущая долгота 0 - Е - восточная 1 - W - западная 3 Знак изменения координаты по широте 0 - Положительное или нулевое изменение 1 - Отрицательное изменение 2 Знак изменения координаты по долготе 0 - Положительное или нулевое изменение 1 - Отрицательное изменение 1 Зарезервировано Зависит от конкретной системы 0 Зарезервировано При адаптации предложенного формата пакета к конкретной системе целесообразно провести оценку максимального количества подблоков, которые могут быть единовременно переданы в составе одного пакета, и количества параметров/событий (в том числе производственных данных) в каждом из подблоков. В приведенной структуре показано, что пакет не имеет явных ограничений на длину (количество подблоков), поэтому ее необходимо ограничивать, основываясь на наступлении приоритетного события (например, tm, tmp, bk достижения пакета определенного размера и др.). Размеры подблоков зависят от заложенной размерности полей EvC N, EDid N, EvID N.M. Рассмотрим пример определения размера поля EDid N (код шаблона дополнительных данных). Пусть имеется определённое множество параметров и событий, которые могут быть оценены и переданы по каналу связи, тогда максимальное количество сочетаний этих параметров для одновременной передачи их значений C вычисляется как C=2"-1, где n - общее количество возможных параметров и событий. Если на этапе разработки специализированного пакета зарезервировать необходимый размер EDid N для передачи максимально возможного количества сочетаний событий, то размер поля будет равен n битам. В реальной ситуации необходимо учитывать, что часть параметров и событий являются взаимоисключающими (например, такие события, как превышение скорости и фиксация начала стоянки, не могут происходить одновременно), следовательно, реальная длина поля EDid N никогда не будет достигать максимального значения. Рассчитаем наибольшее количество одновременно возможных сочетаний событий. Пусть E={ebe2,...,e;,...,en} - описанное множество всех событий, которые могут происходить при функционировании терминала такси. Отобразим это множество в виде графа G={E,U}, где вершины ßj - это события, а множество их соединяющих рёбер U={u1 } обозначает логическую сочетаемость событий в единый момент времени. Пример графа парной сочетаемости для 6 событий приведен на рис. 4. Рис. 4. Гоаф парной сочетаемости в системе Число возможных сочетаний событий с определяется следующим образом: с=п+т+5, (*) где п - количество вершин (событий); т - количество рёбер (паросочетаний тех или иных событий); 5 - количество всех полных подграфов в О (за исключением рёбер полных подграфов, содержащих по 2 вершины). Необходимо отметить, что подграфы, входящие в 5, могут пересекаться между собой, а также входить в другие полные подграфы графа О (одни и те же события и их комбинации могут входить в разные подмножества событий). Так для графа (рис. 4) число полных подграфов 5=7 (6 подграфов, содержащих по 3 вершины, и 1 подграф - 4 вершины). Общее число сочетаний событий для данного примера с=6+10+7=23. Для нахождения всех возможных сочетаний событий (кроме парных) можно воспользоваться следующим методом: для каждого е1 в диапазоне от 1 до п по матрице смежности графа О устанавливается, является ли е1 смежным с вершинами в диапазоне от г+1 до п. Также, в процессе данного вычисления, проверяется смежность вершин внутри данного диапазона между собой. Полученные до этого комбинации, содержащие е, не учитываются. Рассчитав величину с, можно задать минимально достаточную длину поля ЕБ1ё К, тем самым уменьшив размер пакета без внесения ограничений на его функциональность. В системе мониторинга и диспетчерского управления таксопарком авторами выделено 69 различных событий, что потребует 69 бит для хранения всех возможных вариантов. Набор одновременно возможных событий по формуле (*) составляет 145 вариантов (п=69, т=73, 5=3), что требует 8 бит для резервирования поля ЕБ1ё N. Таким образом, при формировании каждого подблока будет получена экономия в 61 бит длины. Заключение Предложен параметрический подход к формированию передаваемых навигационных данных, позволяющий снизить их объем с сохранением информации. Разработан оригинальный формат структуры пакета данных, отличающийся способом интеграции навигационной, системной и производственной информации за счет сочетания дельта-кодирования, параметрического и бинарного преобразований. Данный формат позволяет реализовать обмен данными в системах мониторинга и диспетчерского управления подвижными средствами. Приведен пример адаптации формата данных для системы мониторинга и диспетчерского управления транспортными средствами. Работа выполнена при проведении НИР в рамках реализации ФЦП «Научные и научно-педагогические кадры инновационной России» 2009-2013 гг. Госконтракт № П2396. ]]></text>
</doc>
